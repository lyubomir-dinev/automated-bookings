# Automated Room/Desk Booking

### Table of contents
1. [Background and requirements](#1-background-and-requirements)

    1.1. [Business requirements](#11-business-requirements)

    1.2. [Internal requirements](#12-internal-requirements)

    1.3. [Available services and models](#13-available-services-and-models)
2. [Exploration and estimates](#2-exploration-and-estimates)

    2.1. [Front end manipulation of the data](#21-front-end-manipulation-of-the-data)

    2.1.1. [Custom UX](#211-custom-ux)

    2.1.2. [Procedural approach](#212-procedural-approach)

### 1. Background and requirements
#### 1.1. Business requirements
Clients wanted a system where they can manage and monitor the bookings of desks and rooms. The system needed to support the following:

1. Customization of amenities per room and desk
2. Permanent bookings of desks 
3. Long term bookings of rooms and desks
4. Quick and easy updating of the overal layout

#### 1.2. Internal requirements
The system should not introduce additional maintenance burden to any team within the company (design, support, client relations, engineering, etc.).

The system should be intelligent enough to suggest the majority of metadata captured and stored against a book and desk (location, size, name, etc.)

#### 1.3. Available services and models
There was an existing rudimentary service for handling room bookings. The model essentially consisted of 2 tables (**rooms** and **bookings**)

##### Rooms
Column | Type 
--- | ---
roomId | varchar (uuid) - **PK**
roomName | varchar
capacity | smallint
locationId | varchar (uuid) - _FK_
notes | text

##### Bookings
Column | Type
--- | ---
roomId | varchar (uuid) - _FK_
bookingId | varchar (uuid) - **PK**
userId | varchar (uuid) - _FK_
bookingStart | timestamp
bookingEnd | timestamp


---
### 2. Exploration and estimates

The problem was split into two separate domains:
1. Front end manipulation of the data 
2. Data generation and storage 

#### 2.1. Front end manipulation of the data
Two approaches were explored: 
1. Building a custom UX to handle the drawing and configuration of the rooms and desks within the office layout
2. Using a procedural approach relaying on the data generated by the back end

##### 2.1.1. Custom UX
Other parts of the system had similar UX available and were producing positive results and feedback from the clients. However, reusing their code would have introduced too much refactoring and the final UX would have introduced too much complexity and maintenance burden to the teams responcible for the maintenance of the system.

___As such, this approach was discarded!.___

##### 2.1.2. Procedural approach
The idea was to generate data describing the rooms, desks and overal office layout based on a visual input provided by the design team in the form of a PNG image of an office layout schematic. The image would be read by OpenCV and the relevant artefacts would be identified and extracted as a collection of objects containing vertices, dimensions and other metadata.
